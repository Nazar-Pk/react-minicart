import{r as s,j as e,F as y,a as i,s as S,h as q,i as j,c as A,R as L}from"./graphql-19c0e5a5.js";import{c as v,s as c}from"./storefront-6b5772d1.js";import{L as P,g as F,s as I}from"./Loader-a0d51321.js";function Q(){var g,p,h,x,b,f;const[t,w]=s.useState({}),[r,o]=s.useState(1),[d,m]=s.useState(!1),N=document.querySelector("#product").dataset.handle;s.useEffect(()=>{async function l(){try{const a=await c(S,{handle:N});w(a.product)}catch(a){console.log(a)}}l()},[]);const u=()=>[{quantity:r,merchandiseId:t.variants.edges[0].node.id}],C=()=>{o(r+1)},E=()=>{r>1&&o(r-1)},k=async()=>{m(!0);let l=F("cartId");if(l){const a={cartId:l,lines:u()},n=await c(q,a);document.dispatchEvent(new CustomEvent("cart:item:add",{detail:n.cartLinesAdd})),document.dispatchEvent(new CustomEvent("cart:update:quantity",{detail:n.cartLinesAdd.cart.totalQuantity}))}else{const a={input:{lines:u()}},n=await c(j,a);l=n.cartCreate.cart.id,I("cartId",l),document.dispatchEvent(new CustomEvent("cart:item:add",{detail:n.cartCreate})),document.dispatchEvent(new CustomEvent("cart:update:quantity",{detail:n.cartCreate.cart.totalQuantity}))}o(1),m(!1)};return e(y,{children:t&&i("main",{className:"product-container lg:flex lg:items-center lg:gap-x-12 xl:gap-x-24 lg:px-20 xl:px-40 lg:py-20 lg:m-auto lg:mt-2 lg:max-w-8xl",children:[e("h1",{className:"absolute w-1 h-1 overflow-hidden p-0 -m-1",children:"Product page"}),e("div",{className:"destop-preview hidden lg:block",children:e("div",{className:"preview xl:min-w-md max-w-3xl rounded-2xl overflow-hidden",children:e("img",{src:(g=t.images)==null?void 0:g.edges[0].node.transformedSrc,alt:"product-preview"})})}),i("section",{className:"product-details container mx-auto px-6 pt-5 sm:pt-10 lg:pt-5 pb-20 lg:pb-5 lg:pr-0 lg:pl-7 xl:ml-1",children:[e("h3",{className:"product capitalize text-very-dark-blue font-bold text-3xl sm:text-4xl sm:leading-none pb-3",children:t.title}),e("p",{className:"text-dark-grayish-blue pb-6 lg:py-7 lg:leading-6",children:t.description}),i("div",{className:"amount font-bold flex items-center justify-between lg:flex-col lg:items-start mb-6",children:[e("div",{className:"discount-price items-center flex",children:e("div",{className:"price text-3xl",children:v((p=t.variants)==null?void 0:p.edges[0].node.price.amount)})}),((x=(h=t.variants)==null?void 0:h.edges[0].node.compareAtPrice)==null?void 0:x.amount)&&e("div",{className:"original-price text-grayish-blue line-through lg:mt-2",children:v((f=(b=t.variants)==null?void 0:b.edges[0].node.compareAtPrice)==null?void 0:f.amount)})]}),i("div",{className:"sm:flex lg:mt-8 w-full",children:[i("div",{className:"quantity-container w-full bg-light-grayish-blue rounded-lg h-14 mb-4 flex items-center justify-between px-6 lg:px-3 font-bold sm:mr-3 lg:mr-5 lg:w-1/3",children:[e("button",{onClick:E,className:"text-orange w-7 text-2xl leading-none font-bold mb-1 lg:mb-2 lg:text-3xl hover:opacity-60",children:"-"}),e("input",{readOnly:!0,className:"quantity focus:outline-none text-dark-blue bg-light-grayish-blue font-bold flex text-center w-full",type:"number",name:"quantity",value:r,"aria-label":"quantity number"}),e("button",{onClick:C,className:"text-orange w-7 text-2xl leading-none font-bold mb-1 lg:mb-2 lg:text-3xl hover:opacity-60",children:"+"})]}),e("button",{onClick:k,disabled:d||!t.availableForSale,className:"disabled:bg-gray-300 disabled:shadow-none transition-all w-full h-14 bg-orange rounded-lg lg:rounded-xl mb-2 shadow-orange-shadow shadow-2xl text-white flex items-center justify-center lg:w-3/5 hover:opacity-60",children:t.availableForSale?e(y,{children:d?e(P,{className:"inline w-4 h-4 text-gray-200 animate-spin fill-white"}):"Add to cart"}):"Sold out"})]})]})]})})}A.createRoot(document.getElementById("product")).render(e(L.StrictMode,{children:e(Q,{})}));
